<div class="">
    <div class="surface-card border-round p-4">
        <div class="my-1 flex justify-content-between align-items-center">
            <h2 class="text-lg font-semibold m-0">Building Images</h2>
            <button
                pButton
                type="button"
                label="Take Photo"
                icon="pi pi-camera"
                class="p-button-primary"
                (click)="openTakePhotoModal()"
            ></button>
        </div>
        <p-divider></p-divider>

        <p-progressSpinner
            *ngIf="loading"
            styleClass="w-4rem h-4rem"
            fill="var(--surface-ground)"
            strokeWidth="4"
        ></p-progressSpinner>

        <div class="grid grid-nogutter">
            <div
                *ngFor="let image of buildingImages; let i = index"
                class="col-12 sm:col-6 lg:col-4 p-2"
            >
                <div
                    class="surface-card border-round shadow-2 transform transition-duration-300 hover:scale-102 cursor-pointer"
                >
                    <div class="relative">
                        <img
                            [src]="getImageUri(image.uri)"
                            class="w-full border-round-top"
                            style="height: 240px; object-fit: cover"
                            (click)="showGalleria(i)"
                            alt="Building image"
                        />
                        <div class="absolute top-0 right-0 m-2 flex gap-2">
                            <p-button
                                severity="danger"
                                rounded="true"
                                type="button"
                                icon="pi pi-trash"
                                class="p-button-rounded p-button-danger p-button-text"
                                (click)="deletePhoto(image)"
                            ></p-button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div
            *ngIf="buildingImages.length === 0"
            class="flex flex-column align-items-center justify-content-center py-8"
        >
            <i class="pi pi-image text-6xl text-500 mb-4"></i>
            <span class="text-500">No images available</span>
        </div>
    </div>
</div>

<p-toast></p-toast>

<p-confirmDialog
    [style]="{ width: '450px' }"
    [closeOnEscape]="true"
></p-confirmDialog>
<p-confirmDialog></p-confirmDialog>
